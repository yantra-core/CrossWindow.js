!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).CWDEBUG=e()}(function(){return function o(i,r,d){function s(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,o,i,r,d)}return r[t].exports}for(var a="function"==typeof require&&require,e=0;e<d.length;e++)s(d[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CrossWindowDebugger",{enumerable:!0,get:function(){return o.default}}),n.createCrossWindowDebugger=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new o.default(e)};var o=(n=e("./lib/CrossWindowDebugger.js"))&&n.__esModule?n:{default:n}},{"./lib/CrossWindowDebugger.js":2}],2:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==i(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this,i=r;if(!(o instanceof i))throw new TypeError("Cannot call a class as a function");for(t in this.config={showOtherWindows:!1,showWindowLegend:!1,showPositionLegend:!1,showOpenWindowButton:!1,showExamplesBar:!0,customStyles:!1},this.config)"boolean"==typeof n[t]&&(this.config[t]=n[t]);this.displayedWindows={},console.log("debugger using opts","config",this.config),this.initUI(),this.updateUI(),this.crossWindowInstance=e,this.defaultWindowBoxStyle=n.windowBoxStyle||{border:"2px solid white",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"1rem",position:"absolute",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0.5em",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",zIndex:"11111",transition:"transform 0.2s"}}var e,t,n;return e=r,(t=[{key:"initUI",value:function(){this.config.showExamplesBar&&this.createExamplesBar();var e,t=document.createElement("div"),t=(t.id="windowsContainer",Object.assign(t.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",pointerEvents:"none",zIndex:"22222"}),document.body.appendChild(t),this.config.showOpenWindowButton&&this.createOpenWindowButton(),document.createElement("div"));t.id="crossWindowCount",t.innerHTML='CrossWindows: <span id="crossWindowCountValue">0</span>',Object.assign(t.style,{position:"absolute",bottom:"10px",left:"10px",padding:"0.5em",fontSize:"1em",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",zIndex:"9999"}),document.body.appendChild(t),this.config.showWindowLegend&&((t=document.createElement("div")).id="currentCrossWindow",(e=document.createElement("div")).id="crossWindowId",e.style.backgroundColor="#fff",e.style.height="20px",e.style.fontWeight="bold",e.style.width="100%",e.style.color="black",e.style.padding="5px",e.fontSize="1.5em",t.appendChild(e),(e=document.createElement("div")).id="crossWindowPosition",e.style.backgroundColor="#fff",e.style.height="20px",e.style.fontWeight="normal",e.style.width="100%",e.style.color="black",e.style.padding="5px",e.fontSize="1em",t.appendChild(e),Object.assign(t.style,{position:"absolute",bottom:"60px",left:"10px",padding:"0.5em",fontWeight:"bold",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",zIndex:"9999"}),document.body.appendChild(t))}},{key:"removeDebugContainer",value:function(e){var t="windowBox_".concat(e),t=document.getElementById(t);t&&(t.parentNode.removeChild(t),delete this.displayedWindows[e])}},{key:"createExamplesBar",value:function(){var r=this,t=document.createElement("div");t.id="debuggerButtonBar",t.classList.add("debuggerButtonBar"),this.buttonConfigs=this.buttonConfigs||[{label:"Home",url:"https://yantra.gg/crosswindow/"},{label:"Particles",url:"https://yantra.gg/crosswindow/particles"},{label:"Coins",url:"https://yantra.gg/crosswindow/coins"},{label:"Key Typer",url:"https://yantra.gg/crosswindow/keyboard-typer"},{label:"Piano",url:"https://yantra.gg/crosswindow/piano"},{label:"Hexapods",url:"https://yantra.gg/crosswindow/hexapods"},{label:"Maze",url:"https://yantra.gg/crosswindow/maze"}],this.buttonConfigs.forEach(function(i){var e=document.createElement("button");e.textContent=i.label,e.addEventListener("click",function(){var e=window.innerWidth,t=window.outerHeight-75,n=window.screenX,o=window.screenY;i.url=i.url.replace("https://yantra.gg/crosswindow/","./"),r.crossWindowInstance.open(i.url+"?win=true",{width:e,height:t,top:o,left:n+window.outerWidth},!0)}),t.appendChild(e)}),document.body.appendChild(t)}},{key:"createOpenWindowButton",value:function(){var e=document.createElement("div"),t=(e.id="openWindowButtons",Object.assign(e.style,{position:"absolute",top:"10px",right:"10px",zIndex:"9999",display:"flex",flexDirection:"column",gap:"0.5em",padding:"0.5em",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)"}),document.createElement("button"));t.textContent="Open Window",e.appendChild(t),document.body.appendChild(e),this.setupOpenWindowButtonListener(t)}},{key:"setupOpenWindowButtonListener",value:function(e){var r=this;e.addEventListener("click",function(){var e=window.innerWidth,t=window.outerHeight-75,n=window.screenX,o=window.screenY+10,n=n+window.outerWidth+10,i=window.location.href;i.includes("?win=true")||(i+="?win=true"),r.crossWindowInstance.open(i,{width:e,height:t,top:o,left:n},!0)})}},{key:"updateUI",value:function(){var o=this;setInterval(function(){var t,n=o.crossWindowInstance.getCurrentWindows(),e=document.getElementById("crossWindowCountValue"),e=(e&&(e.innerText=Object.keys(n).length),document.getElementById("crossWindowId")),e=(e&&(e.innerText=o.crossWindowInstance.windowId.split("-")[1]),document.getElementById("crossWindowPosition"));e&&(e.innerText="x: ".concat(window.screenX,", y: ").concat(window.screenY)),o.config.showOtherWindows&&(t=Object.keys(n),Object.keys(o.displayedWindows).forEach(function(e){t.includes(e)||o.removeDebugContainer(e)}),t.forEach(function(e){n[e].windowId=e,o.updateOrCreateDebugContainer(n[e]),o.displayedWindows[e]=!0}),o.displayedWindows=t.reduce(function(e,t){return e[t]=!0,e},{}))},300)}},{key:"updateOrCreateDebugContainer",value:function(e){var t,n,o,i,r,d,s;e.windowId!==this.crossWindowInstance.windowId&&(n=document.getElementById("windowsContainer"),s="windowBox_"+e.windowId,(t=document.getElementById(s))||((t=document.createElement("div")).id=s,t.style.textAlign="center",t.classList.add("crosswindow-preview-box"),!0!==this.config.customStyles&&Object.assign(t.style,this.defaultWindowBoxStyle),(s=document.createElement("span")).style.backgroundColor="#fff",s.style.height="20px",s.style.fontWeight="bold",s.style.width="100%",s.style.color="black",s.style.padding="5px",s.style.margin="0",s.textContent=e.windowId.split("-")[1],t.appendChild(s),n.appendChild(t)),s=e,n=window.innerWidth,d=window.innerHeight,o=s.size,i=o.width,o=o.height,i*=.2,o*=.2,r=s.position.x-window.screenX+i/2,s=s.position.y-window.screenY+o/2,r=Math.min(Math.max(r,16),n-i-16),s=Math.min(Math.max(s,16),d-o-16),n={x:r,y:s,width:i,height:o},e.windowId===this.crossWindowInstance.windowId&&(n.x=window.innerWidth/2-55,n.y=window.innerHeight/2-n.height/2-200),t.style.left="".concat(n.x,"px"),t.style.top="".concat(n.y,"px"),d=n,(s=(r=t).querySelector(".position-info"))||((s=document.createElement("span")).className="position-info",s.style.textAlign="left",r.appendChild(s)),r=function(e,t){var n=e.x-t.x,e=e.y-t.y;return Math.sqrt(n*n+e*e)}(d,{x:window.screenX,y:window.screenY}),s.innerHTML="X: ".concat(d.x.toFixed(0),"<br/>Y: ").concat(d.y.toFixed(0),"<br/>Dist: ").concat(Math.round(r),"px"))}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}()},{}]},{},[1])(1)});
//# sourceMappingURL=crosswindow.debugger.min.js.map