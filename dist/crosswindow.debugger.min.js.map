{"version":3,"sourceRoot":"../","sources":["./dist/crosswindow.debugger.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.CWDEBUG = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"CrossWindowDebugger\", {\n  enumerable: true,\n  get: function get() {\n    return _CrossWindowDebugger[\"default\"];\n  }\n});\nexports.createCrossWindowDebugger = createCrossWindowDebugger;\nvar _CrossWindowDebugger = _interopRequireDefault(require(\"./lib/CrossWindowDebugger.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction createCrossWindowDebugger() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new _CrossWindowDebugger[\"default\"](options);\n}\n\n},{\"./lib/CrossWindowDebugger.js\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// CrossWindowDebugger.js - Marak Squires 2024\nvar CrossWindowDebugger = exports[\"default\"] = /*#__PURE__*/function () {\n  function CrossWindowDebugger(crossWindowInstance) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, CrossWindowDebugger);\n    this.config = {\n      showOtherWindows: false,\n      showWindowLegend: false,\n      showPositionLegend: false,\n      showOpenWindowButton: false,\n      showExamplesBar: false,\n      customStyles: false\n    };\n    for (var key in this.config) {\n      if (typeof options[key] === 'boolean') {\n        this.config[key] = options[key];\n      }\n    }\n    this.displayedWindows = {};\n    console.log('debugger using opts', 'config', this.config);\n    this.initUI();\n    this.updateUI();\n    this.crossWindowInstance = crossWindowInstance;\n\n    // Define default styles for the debug window boxes\n    this.defaultWindowBoxStyle = options.windowBoxStyle || {\n      border: '2px solid white',\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      color: 'white',\n      fontSize: '1rem',\n      position: 'absolute',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: '0.5em',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)',\n      zIndex: '11111',\n      transition: 'transform 0.2s'\n    };\n  }\n  _createClass(CrossWindowDebugger, [{\n    key: \"initUI\",\n    value: function initUI() {\n      //\n      // Examples bar\n      //\n      if (this.config.showExamplesBar) {\n        this.createExamplesBar();\n      }\n\n      // Create and style windowsContainer\n      var windowsContainer = document.createElement('div');\n      windowsContainer.id = 'windowsContainer';\n      Object.assign(windowsContainer.style, {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        width: '100%',\n        height: '100%',\n        background: 'transparent',\n        pointerEvents: 'none',\n        zIndex: '22222'\n      });\n      document.body.appendChild(windowsContainer);\n\n      //\n      // Open Window button\n      //\n      if (this.config.showOpenWindowButton) {\n        this.createOpenWindowButton();\n      }\n\n      //\n      // Cross Window Count\n      //\n      var crossWindowCount = document.createElement('div');\n      crossWindowCount.id = 'crossWindowCount';\n      crossWindowCount.innerHTML = 'CrossWindows: <span id=\"crossWindowCountValue\">0</span>';\n      Object.assign(crossWindowCount.style, {\n        position: 'absolute',\n        bottom: '10px',\n        left: '10px',\n        padding: '0.5em',\n        fontSize: '1em',\n        backgroundColor: 'white',\n        boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)',\n        zIndex: '9999'\n      });\n      document.body.appendChild(crossWindowCount);\n      if (this.config.showWindowLegend) {\n        // Create and style currentCrossWindow\n        var currentCrossWindow = document.createElement('div');\n        currentCrossWindow.id = 'currentCrossWindow';\n\n        //\n        // Current Cross Window Legend\n        //\n        var crossWindowIdSpan = document.createElement('div');\n        crossWindowIdSpan.id = 'crossWindowId';\n        crossWindowIdSpan.style.backgroundColor = '#fff';\n        crossWindowIdSpan.style.height = '20px';\n        crossWindowIdSpan.style.fontWeight = 'bold';\n        crossWindowIdSpan.style.width = '100%';\n        crossWindowIdSpan.style.color = 'black';\n        crossWindowIdSpan.style.padding = '5px';\n        crossWindowIdSpan.fontSize = '1.5em';\n        currentCrossWindow.appendChild(crossWindowIdSpan);\n\n        //\n        // Currnent Cross Window Position Legend\n        //\n        var crossWindowPositionSpan = document.createElement('div');\n        crossWindowPositionSpan.id = 'crossWindowPosition';\n        crossWindowPositionSpan.style.backgroundColor = '#fff';\n        crossWindowPositionSpan.style.height = '20px';\n        crossWindowPositionSpan.style.fontWeight = 'normal';\n        crossWindowPositionSpan.style.width = '100%';\n        crossWindowPositionSpan.style.color = 'black';\n        crossWindowPositionSpan.style.padding = '5px';\n        crossWindowPositionSpan.fontSize = '1em';\n        currentCrossWindow.appendChild(crossWindowPositionSpan);\n\n        //currentCrossWindow.innerHTML = `<span id=\"crossWindowId\">0</span><br/><span id=\"crossWindowPosition\">0,0</span>`;\n        Object.assign(currentCrossWindow.style, {\n          position: 'absolute',\n          bottom: '60px',\n          left: '10px',\n          padding: '0.5em',\n          fontWeight: 'bold',\n          backgroundColor: 'white',\n          boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)',\n          zIndex: '9999'\n        });\n        document.body.appendChild(currentCrossWindow);\n      }\n    }\n  }, {\n    key: \"removeDebugContainer\",\n    value: function removeDebugContainer(windowId) {\n      var containerId = \"windowBox_\".concat(windowId); // Assuming container IDs follow this pattern\n      var containerElement = document.getElementById(containerId);\n      if (containerElement) {\n        containerElement.parentNode.removeChild(containerElement);\n        delete this.displayedWindows[windowId]; // Remove the window from the tracking object\n      }\n    }\n  }, {\n    key: \"createExamplesBar\",\n    value: function createExamplesBar() {\n      var _this = this;\n      var buttonBarContainer = document.createElement('div');\n      buttonBarContainer.id = 'debuggerButtonBar';\n      buttonBarContainer.classList.add('debuggerButtonBar');\n      this.buttonConfigs = this.buttonConfigs || [{\n        label: 'Home',\n        url: 'https://yantra.gg/crosswindow/'\n      }, {\n        label: 'Particles',\n        url: 'https://yantra.gg/crosswindow/particles'\n      }, {\n        label: 'Coins',\n        url: 'https://yantra.gg/crosswindow/coins'\n      }, {\n        label: 'Key Typer',\n        url: 'https://yantra.gg/crosswindow/keyboard-typer'\n      }, {\n        label: 'Piano',\n        url: 'https://yantra.gg/crosswindow/piano'\n      }, {\n        label: 'Hexapods',\n        url: 'https://yantra.gg/crosswindow/hexapods'\n      }, {\n        label: 'Maze',\n        url: 'https://yantra.gg/crosswindow/maze'\n      }];\n      // Iterate over button configurations to create buttons\n      this.buttonConfigs.forEach(function (config) {\n        var button = document.createElement('button');\n        button.textContent = config.label;\n        button.addEventListener('click', function () {\n          var windowWidth = window.innerWidth;\n          var windowHeight = window.outerHeight - 75;\n          var offsetX = window.screenX; // Current window's distance from the left edge of the screen\n          var offsetY = window.screenY; // Current window's distance from the top edge of the screen\n          var buffer = 10; // Define a buffer distance for the new window\n          var top = offsetY,\n            left = offsetX;\n          // for dev\n          config.url = config.url.replace('https://yantra.gg/crosswindow/', './');\n          _this.crossWindowInstance.open(config.url + \"?win=true\", {\n            width: windowWidth,\n            height: windowHeight,\n            top: top /*- window.outerHeight*/,\n            left: left + window.outerWidth\n          }, true);\n        });\n        buttonBarContainer.appendChild(button);\n      });\n\n      // Append the button bar container to the body\n      document.body.appendChild(buttonBarContainer);\n    }\n  }, {\n    key: \"createOpenWindowButton\",\n    value: function createOpenWindowButton() {\n      // Create the button container\n      var buttonContainer = document.createElement('div');\n      buttonContainer.id = 'openWindowButtons';\n      Object.assign(buttonContainer.style, {\n        position: 'absolute',\n        top: '10px',\n        right: '10px',\n        // Adjusted for demonstration\n        zIndex: '9999',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '0.5em',\n        padding: '0.5em',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        borderRadius: '8px',\n        boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)'\n      });\n\n      // Create the button\n      var openWindowButton = document.createElement('button');\n      openWindowButton.textContent = 'Open Window';\n      buttonContainer.appendChild(openWindowButton);\n\n      // Append the button container to the body\n      document.body.appendChild(buttonContainer);\n\n      // Add the event listener to the button\n      this.setupOpenWindowButtonListener(openWindowButton);\n    }\n\n    // TODO: more configuration options here\n  }, {\n    key: \"setupOpenWindowButtonListener\",\n    value: function setupOpenWindowButtonListener(button) {\n      var _this2 = this;\n      button.addEventListener('click', function () {\n        var windowWidth = window.innerWidth;\n        var windowHeight = window.outerHeight - 75;\n        var offsetX = window.screenX;\n        var offsetY = window.screenY;\n        var buffer = 10; // Optional buffer\n        var top = offsetY + buffer;\n        var left = offsetX + window.outerWidth + buffer;\n\n        // Open new window\n        // get the current url from the window\n        var url = window.location.href;\n        // add ?win=true to the url\n        // if win=true is not already set\n        if (!url.includes('?win=true')) {\n          // the game\n          url += '?win=true';\n          // i win\n        }\n        _this2.crossWindowInstance.open(url, {\n          width: windowWidth,\n          height: windowHeight,\n          top: top,\n          left: left\n        }, true);\n      });\n    }\n  }, {\n    key: \"updateUI\",\n    value: function updateUI() {\n      var _this3 = this;\n      setInterval(function () {\n        var currentWindows = _this3.crossWindowInstance.getCurrentWindows();\n        var windowCountElement = document.getElementById('crossWindowCountValue');\n        if (windowCountElement) {\n          windowCountElement.innerText = Object.keys(currentWindows).length;\n        }\n        var windowIdElement = document.getElementById('crossWindowId');\n        if (windowIdElement) {\n          windowIdElement.innerText = _this3.crossWindowInstance.windowId.split('-')[1];\n        }\n        var windowPositionElement = document.getElementById('crossWindowPosition');\n        if (windowPositionElement) {\n          windowPositionElement.innerText = \"x: \".concat(window.screenX, \", y: \").concat(window.screenY);\n        }\n        if (_this3.config.showOtherWindows) {\n          var currentWindowIds = Object.keys(currentWindows);\n\n          // Remove UI elements for windows that are no longer active\n          Object.keys(_this3.displayedWindows).forEach(function (displayedWindowId) {\n            if (!currentWindowIds.includes(displayedWindowId)) {\n              _this3.removeDebugContainer(displayedWindowId);\n            }\n          });\n\n          // Update or create UI elements for current windows\n          currentWindowIds.forEach(function (windowId) {\n            currentWindows[windowId].windowId = windowId;\n            _this3.updateOrCreateDebugContainer(currentWindows[windowId]);\n            _this3.displayedWindows[windowId] = true; // Mark this window as displayed\n          });\n\n          // Update the tracking object to reflect the current set of windows\n          _this3.displayedWindows = currentWindowIds.reduce(function (acc, id) {\n            acc[id] = true;\n            return acc;\n          }, {});\n        }\n      }, 300);\n    }\n  }, {\n    key: \"updateOrCreateDebugContainer\",\n    value: function updateOrCreateDebugContainer(currentWindowMetadata) {\n      if (currentWindowMetadata.windowId === this.crossWindowInstance.windowId) {\n        return;\n      }\n      var container = document.getElementById('windowsContainer');\n      var boxId = 'windowBox_' + currentWindowMetadata.windowId;\n      var windowBox = document.getElementById(boxId);\n      if (!windowBox) {\n        windowBox = document.createElement('div');\n        windowBox.id = boxId;\n        windowBox.style.textAlign = 'center';\n        windowBox.classList.add('crosswindow-preview-box');\n\n        // Apply the default window box styles\n        if (this.config.customStyles !== true) {\n          Object.assign(windowBox.style, this.defaultWindowBoxStyle);\n        }\n        var windowIdSpan = document.createElement('span');\n        windowIdSpan.style.backgroundColor = '#fff';\n        windowIdSpan.style.height = '20px';\n        windowIdSpan.style.fontWeight = 'bold';\n        windowIdSpan.style.width = '100%';\n        windowIdSpan.style.color = 'black';\n        windowIdSpan.style.padding = '5px';\n        windowIdSpan.style.margin = '0';\n        windowIdSpan.textContent = currentWindowMetadata.windowId.split('-')[1];\n        windowBox.appendChild(windowIdSpan);\n        container.appendChild(windowBox);\n      }\n      var adjustedPosition = calculateAdjustedPosition(currentWindowMetadata);\n      if (currentWindowMetadata.windowId === this.crossWindowInstance.windowId) {\n        // center the box always its our own\n        adjustedPosition.x = window.innerWidth / 2 - 55;\n        adjustedPosition.y = window.innerHeight / 2 - adjustedPosition.height / 2 - 200;\n      }\n      windowBox.style.left = \"\".concat(adjustedPosition.x, \"px\");\n      windowBox.style.top = \"\".concat(adjustedPosition.y, \"px\");\n      updatePositionInfo(windowBox, adjustedPosition, currentWindowMetadata);\n    }\n  }]);\n  return CrossWindowDebugger;\n}();\nfunction calculateAdjustedPosition(currentWindowMetadata) {\n  var scaleFactor = 0.2; // Adjust scale factor as needed\n  var buffer = 16; // Buffer to avoid edge sticking\n  var viewportWidth = window.innerWidth;\n  var viewportHeight = window.innerHeight;\n  var _currentWindowMetadat = currentWindowMetadata.size,\n    width = _currentWindowMetadat.width,\n    height = _currentWindowMetadat.height;\n  width *= scaleFactor;\n  height *= scaleFactor;\n\n  // Calculate relative position\n  var x = currentWindowMetadata.position.x - window.screenX + width / 2;\n  var y = currentWindowMetadata.position.y - window.screenY + height / 2;\n\n  // Adjust to keep within viewport and apply buffer\n  x = Math.min(Math.max(x, buffer), viewportWidth - width - buffer);\n  y = Math.min(Math.max(y, buffer), viewportHeight - height - buffer);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\nfunction updatePositionInfo(windowBox, position, currentWindowMetadata) {\n  var positionInfoSpan = windowBox.querySelector('.position-info');\n  if (!positionInfoSpan) {\n    positionInfoSpan = document.createElement('span');\n    positionInfoSpan.className = 'position-info';\n    positionInfoSpan.style.textAlign = 'left';\n    windowBox.appendChild(positionInfoSpan);\n  }\n  var distance = calculateDistance(position, {\n    x: window.screenX,\n    y: window.screenY\n  });\n  positionInfoSpan.innerHTML = \"X: \".concat(position.x.toFixed(0), \"<br/>Y: \").concat(position.y.toFixed(0), \"<br/>Dist: \").concat(Math.round(distance), \"px\");\n}\nfunction calculateDistance(point1, point2) {\n  var dx = point1.x - point2.x;\n  var dy = point1.y - point2.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n},{}]},{},[1])(1)\n});\n"],"names":["f","exports","module","define","amd","window","global","self","this","CWDEBUG","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","enumerable","get","_CrossWindowDebugger","createCrossWindowDebugger","options","arguments","undefined","obj","__esModule","default","./lib/CrossWindowDebugger.js","2","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","descriptor","configurable","writable","toPrimitive","String","Number","TypeError","key","CrossWindowDebugger","crossWindowInstance","instance","Constructor","config","showOtherWindows","showWindowLegend","showPositionLegend","showOpenWindowButton","showExamplesBar","customStyles","displayedWindows","console","log","initUI","updateUI","defaultWindowBoxStyle","windowBoxStyle","border","backgroundColor","color","fontSize","position","boxSizing","display","flexDirection","justifyContent","alignItems","padding","borderRadius","boxShadow","zIndex","transition","protoProps","staticProps","createExamplesBar","crossWindowPositionSpan","windowsContainer","document","createElement","crossWindowCount","id","assign","style","top","left","width","height","background","pointerEvents","body","appendChild","createOpenWindowButton","innerHTML","bottom","currentCrossWindow","crossWindowIdSpan","fontWeight","windowId","containerId","concat","containerElement","getElementById","parentNode","removeChild","_this","buttonBarContainer","classList","add","buttonConfigs","label","url","forEach","button","textContent","addEventListener","windowWidth","innerWidth","windowHeight","outerHeight","offsetX","screenX","screenY","replace","open","outerWidth","buttonContainer","openWindowButton","right","gap","setupOpenWindowButtonListener","_this2","location","href","includes","_this3","setInterval","currentWindowIds","currentWindows","getCurrentWindows","windowCountElement","windowIdElement","innerText","keys","windowPositionElement","split","displayedWindowId","removeDebugContainer","updateOrCreateDebugContainer","reduce","acc","currentWindowMetadata","windowBox","viewportWidth","_currentWindowMetadat","positionInfoSpan","container","boxId","textAlign","windowIdSpan","margin","viewportHeight","innerHeight","size","x","y","Math","min","max","adjustedPosition","querySelector","className","distance","point1","point2","dx","dy","sqrt","toFixed","round"],"mappings":"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"}